<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Get an Estimate | BinPals Trash Valet</title>
  <meta name="description" content="Request a BinPals Trash Valet estimate. Share your address and how many bins you have and we’ll follow up shortly." />

  <!-- Poppins font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bp-green: #2f855a;
      --bp-green-soft: #e6f4ec;
      --bp-green-dark: #22543d;
      --bp-brown: #b7791f;
      --bp-bg: #f5f5f4;
      --bp-card-bg: #ffffff;
      --bp-border: #e5e7eb;
      --bp-border-strong: #d1d5db;
      --bp-text: #111827;
      --bp-muted: #4b5563;
      --bp-muted-soft: #9ca3af;
      --bp-error: #b91c1c;
      --bp-radius-lg: 18px;
      --bp-radius-pill: 999px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: var(--bp-bg);
      color: var(--bp-text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px 12px;
    }

    .page-wrap {
      width: 100%;
      max-width: 760px;
    }

    .card {
      background-color: var(--bp-card-bg);
      border-radius: var(--bp-radius-lg);
      border: 1px solid var(--bp-border);
      padding: 18px 18px 22px;
    }

    @media (min-width: 640px) {
      .card {
        padding: 22px 26px 26px;
      }
    }

    .logo-row {
      text-align: center;
      margin-bottom: 10px;
    }

    .logo-row img {
      max-width: 230px;
      height: auto;
    }

    .title {
      text-align: center;
      font-size: 1.7rem;
      font-weight: 700;
      margin: 8px 0 4px;
      letter-spacing: 0.01em;
    }

    .subtitle {
      text-align: center;
      font-size: 0.98rem;
      color: var(--bp-muted);
      margin: 0 0 18px;
    }

    .subtitle strong {
      color: var(--bp-green-dark);
      font-weight: 600;
    }

    /* Step progress bar (simple & flat) */
    .progress-steps {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 6px;
      margin-bottom: 18px;
    }

    .step-pill {
      border-radius: var(--bp-radius-pill);
      border: 1px solid var(--bp-border);
      padding: 7px 10px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      color: var(--bp-muted);
      background-color: #fafafa;
    }

    .step-pill span.step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 1px solid var(--bp-border-strong);
      font-size: 0.76rem;
      color: var(--bp-green-dark);
      background-color: #ffffff;
    }

    .step-pill.active {
      border-color: var(--bp-green-dark);
      background-color: var(--bp-green-soft);
      color: var(--bp-green-dark);
    }

    .step-pill.active span.step-number {
      border-color: var(--bp-green-dark);
      background-color: #ffffff;
    }

    form {
      margin-top: 4px;
    }

    .step-section {
      border-radius: 14px;
      border: 1px solid var(--bp-border);
      padding: 14px 12px 12px;
      margin-bottom: 12px;
    }

    @media (min-width: 640px) {
      .step-section {
        padding: 16px 16px 14px;
      }
    }

    .step-header {
      display: flex;
      align-items: baseline;
      gap: 6px;
      margin-bottom: 8px;
    }

    .step-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--bp-green-dark);
    }

    .step-helper {
      font-size: 0.85rem;
      color: var(--bp-muted);
    }

    .form-group {
      margin-bottom: 10px;
    }

    .form-label {
      display: block;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 3px;
      color: var(--bp-text);
    }

    .form-label span {
      color: var(--bp-green-dark);
    }

    .field,
    select.field {
      width: 100%;
      font-size: 0.98rem;
      padding: 10px 12px;
      border-radius: var(--bp-radius-pill);
      border: 1px solid var(--bp-border-strong);
      background-color: #ffffff;
      color: var(--bp-text);
      outline: none;
      transition: border-color 120ms ease-out, background-color 120ms ease-out;
    }

    .field::placeholder {
      color: var(--bp-muted-soft);
    }

    .field:focus {
      border-color: var(--bp-green-dark);
      background-color: var(--bp-green-soft);
    }

    select.field {
      appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, #6b7280 50%),
        linear-gradient(135deg, #6b7280 50%, transparent 50%);
      background-position:
        calc(100% - 20px) 55%,
        calc(100% - 14px) 55%;
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
    }

    .field-row-inline {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1fr);
      gap: 8px;
    }

    @media (max-width: 520px) {
      .field-row-inline {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .btn-row {
      margin-top: 14px;
    }

    .btn-primary {
      width: 100%;
      border: none;
      border-radius: var(--bp-radius-pill);
      padding: 12px 16px;
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      cursor: pointer;
      background-color: var(--bp-green);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: background-color 100ms ease-out, transform 60ms ease-out, opacity 80ms ease-out;
    }

    .btn-primary:hover:not(.loading):not(:disabled) {
      background-color: var(--bp-green-dark);
      transform: translateY(-1px);
    }

    .btn-primary:active:not(.loading):not(:disabled) {
      transform: translateY(0);
    }

    .btn-primary.loading,
    .btn-primary:disabled {
      opacity: 0.85;
      cursor: default;
      transform: none;
    }

    .btn-spinner {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 2px solid rgba(248, 250, 252, 0.5);
      border-top-color: #ffffff;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .btn-text {
      display: inline-block;
    }

    .message {
      min-height: 20px;
      margin-top: 10px;
      font-size: 0.9rem;
      text-align: center;
    }

    .message.success {
      color: var(--bp-green-dark);
    }

    .message.error {
      color: var(--bp-error);
    }

    .info-text {
      margin-top: 8px;
      font-size: 0.85rem;
      color: var(--bp-muted);
      text-align: center;
    }

    .info-text strong {
      color: var(--bp-brown);
      font-weight: 600;
    }

    /* Simple top strip that "lights up" while sending */
    .sending-strip {
      width: 100%;
      height: 4px;
      border-radius: 999px;
      background-color: #f3f4f6;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .sending-strip-inner {
      width: 35%;
      height: 100%;
      background: linear-gradient(90deg, var(--bp-green), var(--bp-green-dark));
      transform: translateX(-100%);
      transition: transform 0.4s ease-out;
    }

    .sending-strip-inner.active {
      animation: slide 1s ease-in-out infinite;
    }

    @keyframes slide {
      0% {
        transform: translateX(-100%);
      }
      50% {
        transform: translateX(40%);
      }
      100% {
        transform: translateX(120%);
      }
    }
  </style>
</head>
<body>
  <main class="page-wrap">
    <section class="card" aria-labelledby="estimate-title">

      <div class="logo-row">
        <!-- Put this image file in /images/Binpals-Trash-Valet-logo.png in your repo -->
        <img src="images/Binpals-Trash-Valet-logo.png" alt="Binpals Trash Valet logo" />
      </div>

      <h1 id="estimate-title" class="title">Request a BinPals Estimate</h1>
      <p class="subtitle">
        Follow the <strong>three quick steps</strong> below. We’ll look at your address and
        email you with route details and next steps.
      </p>

      <!-- sending strip -->
      <div class="sending-strip">
        <div id="sending-strip-inner" class="sending-strip-inner"></div>
      </div>

      <!-- Step pills -->
      <div class="progress-steps" aria-hidden="true">
        <div class="step-pill active">
          <span class="step-number">1</span>
          <span>Your info</span>
        </div>
        <div class="step-pill">
          <span class="step-number">2</span>
          <span>Address</span>
        </div>
        <div class="step-pill">
          <span class="step-number">3</span>
          <span>Bins & plan</span>
        </div>
      </div>

      <form id="estimate-form" novalidate>
        <!-- Step 1 -->
        <div class="step-section" aria-labelledby="step1-title">
          <div class="step-header">
            <div class="step-title" id="step1-title">Step 1 – Your info</div>
            <div class="step-helper">So we know who to email</div>
          </div>

          <div class="form-group">
            <label for="fullName" class="form-label">Full name <span>*</span></label>
            <input
              id="fullName"
              name="entry.104280084"
              class="field"
              type="text"
              autocomplete="name"
              placeholder="First and last name"
              required
            />
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Email address <span>*</span></label>
            <input
              id="email"
              name="entry.417977469"
              class="field"
              type="email"
              autocomplete="email"
              placeholder="you@example.com"
              required
            />
          </div>
        </div>

        <!-- Step 2 -->
        <div class="step-section" aria-labelledby="step2-title">
          <div class="step-header">
            <div class="step-title" id="step2-title">Step 2 – Your address</div>
            <div class="step-helper">So we can check your route</div>
          </div>

          <div class="form-group">
            <label for="street" class="form-label">Street address <span>*</span></label>
            <input
              id="street"
              name="entry.2139416814"
              class="field"
              type="text"
              autocomplete="street-address"
              placeholder="House number and street"
              required
            />
          </div>

          <div class="form-group field-row-inline">
            <div>
              <label for="city" class="form-label">City <span>*</span></label>
              <input
                id="city"
                name="entry.565605156"
                class="field"
                type="text"
                placeholder="City"
                required
              />
            </div>
            <div>
              <label for="zip" class="form-label">ZIP code <span>*</span></label>
              <input
                id="zip"
                name="entry.55232557"
                class="field"
                type="text"
                inputmode="numeric"
                pattern="\d{5}"
                placeholder="ZIP"
                required
              />
            </div>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="step-section" aria-labelledby="step3-title">
          <div class="step-header">
            <div class="step-title" id="step3-title">Step 3 – Bins & plan</div>
            <div class="step-helper">So we can price your service</div>
          </div>

          <div class="form-group">
            <label for="bins" class="form-label">How many trash bins? <span>*</span></label>
            <input
              id="bins"
              name="entry.1777532498"
              class="field"
              type="number"
              min="1"
              max="10"
              step="1"
              placeholder="Example: 2"
              required
            />
          </div>

          <div class="form-group">
            <label for="plan" class="form-label">Choose a plan <span>*</span></label>
            <select id="plan" name="entry.707531909" class="field" required>
              <option value="" disabled selected>Tap to pick a plan</option>
              <option value="Premium">Premium – weekly set out & return</option>
              <option value="Premium+">Premium+ – extra flexible service</option>
              <option value="One-Time">One-time vacation / snowbird service</option>
            </select>
          </div>
        </div>

        <!-- Hidden status field -->
        <input type="hidden" name="entry.409104529" value="Pending" />
        <!-- Hidden submit field -->
        <input type="hidden" name="submit" value="Submit" />

        <div class="btn-row">
          <button id="submit-btn" type="submit" class="btn-primary">
            <span class="btn-text">Send estimate request</span>
          </button>
        </div>

        <p id="form-message" class="message" aria-live="polite"></p>

        <p class="info-text">
          We usually reply within <strong>1–2 business days.</strong><br />
          If you need help, you can also email us at <strong>Binpalsteam@gmail.com</strong>.
        </p>
      </form>
    </section>
  </main>

  <script>
    (function () {
      const FORM_ENDPOINT = "https://docs.google.com/forms/d/e/1FAIpQLSdcKdqxRDDSZKcBA2nPZ3aR1M0uU6TwfYTPLy7unE0xWKKSLQ/formResponse";

      const form = document.getElementById("estimate-form");
      const submitBtn = document.getElementById("submit-btn");
      const formMessage = document.getElementById("form-message");
      const sendingStripInner = document.getElementById("sending-strip-inner");

      if (!form) return;

      function setLoading(isLoading) {
        if (isLoading) {
          submitBtn.classList.add("loading");
          submitBtn.disabled = true;

          const text = submitBtn.querySelector(".btn-text");
          if (text) text.textContent = "Sending...";

          let spinner = submitBtn.querySelector(".btn-spinner");
          if (!spinner) {
            spinner = document.createElement("span");
            spinner.className = "btn-spinner";
            submitBtn.insertBefore(spinner, submitBtn.firstChild);
          }

          if (sendingStripInner) {
            sendingStripInner.classList.add("active");
          }
        } else {
          submitBtn.classList.remove("loading");
          submitBtn.disabled = false;

          const text = submitBtn.querySelector(".btn-text");
          if (text) text.textContent = "Send estimate request";

          const spinner = submitBtn.querySelector(".btn-spinner");
          if (spinner) spinner.remove();

          if (sendingStripInner) {
            sendingStripInner.classList.remove("active");
          }
        }
      }

      function showMessage(message, isError) {
        formMessage.textContent = message || "";
        formMessage.classList.remove("success", "error");
        if (!message) return;
        formMessage.classList.add(isError ? "error" : "success");
      }

      function buildBodyFromForm(formElement) {
        const formData = new FormData(formElement);
        const params = new URLSearchParams();
        for (const [key, value] of formData.entries()) {
          params.append(key, value.toString());
        }
        return params.toString();
      }

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        showMessage("");
        setLoading(true);

        const body = buildBodyFromForm(form);

        fetch(FORM_ENDPOINT, {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded"
          },
          body: body
        })
          .then(function () {
            form.reset();
            const planSelect = document.getElementById("plan");
            if (planSelect) planSelect.selectedIndex = 0;

            showMessage(
              "Thanks for requesting a BinPals estimate — we’ll review your address and follow up shortly.",
              false
            );
          })
          .catch(function () {
            showMessage(
              "Something went wrong sending your request. Please try again, or email us at Binpalsteam@gmail.com.",
              true
            );
          })
          .finally(function () {
            setLoading(false);
          });
      });
    })();
  </script>
</body>
</html>
