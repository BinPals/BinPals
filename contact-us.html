<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Get an Estimate | BinPals Trash Valet</title>
  <meta name="description" content="Request a BinPals Trash Valet estimate. Share your address and how many bins you have and we’ll follow up shortly." />

  <!-- Poppins font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bp-green: #2f855a;
      --bp-green-soft: #e6f4ec;
      --bp-green-dark: #22543d;
      --bp-brown: #a66b3b;
      --bp-bg: #f4f4f4;
      --bp-text: #111827;
      --bp-muted: #4b5563;
      --bp-border: #d1d5db;
      --bp-error: #b91c1c;
      --bp-radius: 18px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: var(--bp-bg);
      color: var(--bp-text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .page-wrap {
      width: 100%;
      max-width: 640px;
    }

    .card {
      background-color: #ffffff;
      border-radius: var(--bp-radius);
      border: 1px solid var(--bp-border);
      padding: 24px 20px;
      box-shadow: 0 14px 34px rgba(15, 23, 42, 0.15);
    }

    @media (min-width: 640px) {
      .card {
        padding: 28px 26px;
      }
    }

    .logo-row {
      text-align: center;
      margin-bottom: 12px;
    }

    .logo-row img {
      max-width: 220px;
      height: auto;
      display: inline-block;
    }

    .title {
      text-align: center;
      font-size: 1.6rem;
      font-weight: 700;
      margin: 10px 0 4px;
    }

    .subtitle {
      text-align: center;
      font-size: 0.98rem;
      color: var(--bp-muted);
      margin: 0 0 18px;
    }

    .subtitle strong {
      color: var(--bp-green-dark);
      font-weight: 600;
    }

    form {
      margin-top: 8px;
    }

    .form-group {
      margin-bottom: 14px;
    }

    .form-label {
      display: block;
      font-size: 0.95rem;
      font-weight: 500;
      margin-bottom: 4px;
      color: var(--bp-text);
    }

    .form-label span {
      color: var(--bp-green-dark);
    }

    .field,
    select.field {
      width: 100%;
      font-size: 1rem;
      padding: 11px 12px;
      border-radius: 999px;
      border: 1px solid var(--bp-border);
      background-color: #ffffff;
      color: var(--bp-text);
      outline: none;
      transition: border-color 120ms ease-out, box-shadow 120ms ease-out, background-color 120ms ease-out;
    }

    .field::placeholder {
      color: #9ca3af;
    }

    .field:focus {
      border-color: var(--bp-green-dark);
      box-shadow: 0 0 0 3px var(--bp-green-soft);
      background-color: #ffffff;
    }

    select.field {
      appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, #6b7280 50%),
        linear-gradient(135deg, #6b7280 50%, transparent 50%);
      background-position:
        calc(100% - 20px) 55%,
        calc(100% - 14px) 55%;
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
    }

    .btn-row {
      margin-top: 14px;
    }

    .btn-primary {
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 12px 16px;
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      cursor: pointer;
      background-color: var(--bp-green);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 8px 22px rgba(47, 133, 90, 0.45);
      transition: background-color 100ms ease-out, box-shadow 100ms ease-out, transform 80ms ease-out, opacity 80ms ease-out;
    }

    .btn-primary:hover:not(.loading):not(:disabled) {
      background-color: var(--bp-green-dark);
      box-shadow: 0 10px 26px rgba(34, 85, 61, 0.5);
      transform: translateY(-1px);
    }

    .btn-primary:active:not(.loading):not(:disabled) {
      transform: translateY(0);
      box-shadow: 0 6px 18px rgba(34, 85, 61, 0.45);
    }

    .btn-primary.loading,
    .btn-primary:disabled {
      opacity: 0.8;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .btn-spinner {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 2px solid rgba(248, 250, 252, 0.4);
      border-top-color: #ffffff;
      animation: spin 0.75s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .btn-text {
      display: inline-block;
    }

    .info-text {
      margin-top: 10px;
      font-size: 0.9rem;
      color: var(--bp-muted);
      text-align: center;
    }

    .info-text strong {
      color: var(--bp-brown);
      font-weight: 600;
    }

    .message {
      min-height: 20px;
      margin-top: 10px;
      font-size: 0.9rem;
      text-align: center;
    }

    .message.success {
      color: var(--bp-green-dark);
    }

    .message.error {
      color: var(--bp-error);
    }
  </style>
</head>
<body>
  <main class="page-wrap">
    <section class="card" aria-labelledby="estimate-title">
      <div class="logo-row">
        <!-- Update the src path to wherever your logo file lives -->
        <img src="images/binpals-logo.png" alt="BinPals Trash Valet logo" />
      </div>

      <h1 id="estimate-title" class="title">Request a BinPals Estimate</h1>
      <p class="subtitle">
        Please fill out this simple form. We’ll look at your address and
        <strong>email you back with next steps.</strong>
      </p>

      <form id="estimate-form" novalidate>
        <div class="form-group">
          <label for="fullName" class="form-label">Full name <span>*</span></label>
          <input
            id="fullName"
            name="entry.104280084"
            class="field"
            type="text"
            autocomplete="name"
            placeholder="First and last name"
            required
          />
        </div>

        <div class="form-group">
          <label for="email" class="form-label">Email address <span>*</span></label>
          <input
            id="email"
            name="entry.417977469"
            class="field"
            type="email"
            autocomplete="email"
            placeholder="you@example.com"
            required
          />
        </div>

        <div class="form-group">
          <label for="street" class="form-label">Street address <span>*</span></label>
          <input
            id="street"
            name="entry.2139416814"
            class="field"
            type="text"
            autocomplete="street-address"
            placeholder="House number and street"
            required
          />
        </div>

        <div class="form-group">
          <label for="city" class="form-label">City <span>*</span></label>
          <input
            id="city"
            name="entry.565605156"
            class="field"
            type="text"
            placeholder="City"
            required
          />
        </div>

        <div class="form-group">
          <label for="zip" class="form-label">ZIP code <span>*</span></label>
          <input
            id="zip"
            name="entry.55232557"
            class="field"
            type="text"
            inputmode="numeric"
            pattern="\d{5}"
            placeholder="ZIP code"
            required
          />
        </div>

        <div class="form-group">
          <label for="bins" class="form-label">How many trash bins? <span>*</span></label>
          <input
            id="bins"
            name="entry.1777532498"
            class="field"
            type="number"
            min="1"
            max="10"
            step="1"
            placeholder="Example: 2"
            required
          />
        </div>

        <div class="form-group">
          <label for="plan" class="form-label">Choose a plan <span>*</span></label>
          <select id="plan" name="entry.707531909" class="field" required>
            <option value="" disabled selected>Tap to pick a plan</option>
            <option value="Premium">Premium – weekly set out & return</option>
            <option value="Premium+">Premium+ – extra flexible service</option>
            <option value="One-Time">One-time vacation / snowbird service</option>
          </select>
        </div>

        <!-- Hidden status field -->
        <input type="hidden" name="entry.409104529" value="Pending" />
        <!-- Hidden submit field -->
        <input type="hidden" name="submit" value="Submit" />

        <div class="btn-row">
          <button id="submit-btn" type="submit" class="btn-primary">
            <span class="btn-text">Send estimate request</span>
          </button>
        </div>

        <p id="form-message" class="message" aria-live="polite"></p>

        <p class="info-text">
          We usually reply within <strong>1–2 business days.</strong>  
          If you need help, you can also email us at <strong>Binpalsteam@gmail.com</strong>.
        </p>
      </form>
    </section>
  </main>

  <script>
    (function () {
      const FORM_ENDPOINT = "https://docs.google.com/forms/d/e/1FAIpQLSdcKdqxRDDSZKcBA2nPZ3aR1M0uU6TwfYTPLy7unE0xWKKSLQ/formResponse";

      const form = document.getElementById("estimate-form");
      const submitBtn = document.getElementById("submit-btn");
      const formMessage = document.getElementById("form-message");

      if (!form) return;

      function setLoading(isLoading) {
        if (isLoading) {
          submitBtn.classList.add("loading");
          submitBtn.disabled = true;

          const text = submitBtn.querySelector(".btn-text");
          if (text) text.textContent = "Sending...";

          let spinner = submitBtn.querySelector(".btn-spinner");
          if (!spinner) {
            spinner = document.createElement("span");
            spinner.className = "btn-spinner";
            submitBtn.insertBefore(spinner, submitBtn.firstChild);
          }
        } else {
          submitBtn.classList.remove("loading");
          submitBtn.disabled = false;

          const text = submitBtn.querySelector(".btn-text");
          if (text) text.textContent = "Send estimate request";

          const spinner = submitBtn.querySelector(".btn-spinner");
          if (spinner) spinner.remove();
        }
      }

      function showMessage(message, isError) {
        formMessage.textContent = message || "";
        formMessage.classList.remove("success", "error");
        if (!message) return;
        formMessage.classList.add(isError ? "error" : "success");
      }

      function buildBodyFromForm(formElement) {
        const formData = new FormData(formElement);
        const params = new URLSearchParams();
        for (const [key, value] of formData.entries()) {
          params.append(key, value.toString());
        }
        return params.toString();
      }

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        showMessage("");
        setLoading(true);

        const body = buildBodyFromForm(form);

        fetch(FORM_ENDPOINT, {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded"
          },
          body: body
        })
          .then(function () {
            form.reset();
            const planSelect = document.getElementById("plan");
            if (planSelect) planSelect.selectedIndex = 0;

            showMessage(
              "Thanks for requesting a BinPals estimate — we’ll review your address and follow up shortly.",
              false
            );
          })
          .catch(function () {
            showMessage(
              "Something went wrong sending your request. Please try again, or email us at Binpalsteam@gmail.com.",
              true
            );
          })
          .finally(function () {
            setLoading(false);
          });
      });
    })();
  </script>
</body>
</html>
