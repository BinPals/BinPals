<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Us | BinPals Trash Valet in Peoria, AZ</title>

  <!-- Poppins -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --green: #166534;
      --green-bright: #16c33b;
      --border: #e5e7eb;
      --text-main: #111827;
      --text-muted: #4b5563;
      --radius: 18px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background: #ffffff; /* whole page white */
      font-family: "Poppins", sans-serif;
    }

    /* HEADER */

    .site-header {
      width: 100%;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
    }

    .header-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 14px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
    }

    .header-logo-wrap {
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .header-logo {
      height: 70px; /* bigger logo */
      width: auto;
      display: block;
    }

    .header-nav {
      display: flex;
      gap: 20px;
      font-size: 14px;
      margin-left: auto;
      margin-right: 24px;
    }

    .header-nav a {
      text-decoration: none;
      color: #111827;
      font-weight: 600;
    }

    .header-nav a:hover {
      color: var(--green);
    }

    .header-nav a.active {
      color: var(--green);
    }

    .header-cta {
      padding: 11px 24px;
      border-radius: 2px;
      background: var(--green-bright);
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      border: none;
      cursor: pointer;
      white-space: nowrap;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .header-cta:hover {
      opacity: 0.95;
    }

    /* mobile icon buttons (email + menu) */

    .header-icon-btn {
      width: 42px;
      height: 42px;
      border-radius: 2px;
      border: none;
      background: var(--green-bright);
      display: none; /* only mobile */
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-size: 22px;
      cursor: pointer;
      text-decoration: none;
    }

    .header-icon-btn span {
      line-height: 1;
    }

    .header-icon-left {
      margin-right: auto;
    }

    .header-icon-right {
      margin-left: auto;
    }

    /* MAIN CONTAINER */

    .page-main {
      display: flex;
      justify-content: center;
      padding: 32px 16px 40px;
      background: #ffffff;
    }

    .container {
      width: 100%;
      max-width: 960px;
      background: #ffffff;
      border-radius: var(--radius);
      padding: 32px 32px 36px;
      border: 1px solid var(--border);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.08);
    }

    .top-row {
      display: flex;
      gap: 40px;
      align-items: flex-start;
    }

    .headline {
      flex: 1.3;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 30px;
      font-weight: 800;
      color: #1f2937;
    }

    p.subtitle {
      margin: 0;
      color: var(--text-muted);
      font-size: 15px;
      line-height: 1.5;
    }

    .aside-copy {
      flex: 1;
      font-size: 14px;
      color: var(--text-muted);
      background: #f9fafb;
      border-radius: var(--radius);
      padding: 16px 20px;
      border: 1px solid #e5e7eb;
    }

    .aside-copy strong {
      display: block;
      margin-bottom: 4px;
      color: #1f2937;
    }

    /* PROGRESS BAR */

    .progress-wrapper {
      margin-top: 24px;
    }

    .progress {
      height: 6px;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      margin-bottom: 14px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: var(--green);
      transition: width .25s ease;
    }

    .step-nav {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-muted);
    }

    .step-nav-item {
      flex: 1;
      text-align: center;
    }

    .step-circle {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 2px solid #d1d5db;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 4px;
      font-size: 12px;
      font-weight: 600;
      background: #fff;
      color: var(--text-muted);
    }

    .step-nav-item.active .step-circle,
    .step-nav-item.completed .step-circle {
      background: var(--green);
      border-color: var(--green);
      color: #ffffff;
    }

    .step-nav-item.active .step-label {
      color: var(--green);
      font-weight: 600;
    }

    /* FORM STEPS */

    .step-panel {
      display: none;
      margin-top: 26px;
    }

    .step-panel.active {
      display: block;
    }

    .step-title {
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .step-helper {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 18px;
    }

    label {
      font-size: 14px;
      font-weight: 500;
      display: block;
      margin-bottom: 4px;
    }

    input, select {
      width: 100%;
      padding: 14px 18px;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      background: #ffffff;
      font-size: 15px;
      margin-bottom: 18px;
      outline: none;
    }

    input::placeholder {
      color: #9ca3af;
    }

    input:focus, select:focus {
      border-color: var(--green);
      background: #f0fdf4;
    }

    .field-row {
      display: flex;
      gap: 16px;
    }

    .field-row > div {
      flex: 1;
    }

    /* consent box */

    .consent-box {
      margin-top: 8px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      font-size: 12px;
      color: #4b5563;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .consent-box input[type="checkbox"] {
      width: 18px;
      height: 18px;
      margin-top: 2px;
      margin-bottom: 0;
    }

    .consent-text {
      line-height: 1.5;
    }

    .consent-text strong {
      font-weight: 600;
      color: #111827;
    }

    /* pricing cards */

    .plan-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
      margin-top: 8px;
    }

    .plan-card {
      border-radius: 18px;
      border: 1px solid #e5e7eb;
      padding: 16px 16px 14px;
      cursor: pointer;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, transform 0.1s ease;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      gap: 6px;
      position: relative;
    }

    .plan-card input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .plan-name {
      font-size: 15px;
      font-weight: 600;
      color: #111827;
    }

    .plan-price {
      font-size: 18px;
      font-weight: 700;
      color: #111827;
    }

    .plan-detail {
      font-size: 12px;
      color: #4b5563;
    }

    .plan-tag {
      display: inline-block;
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #ecfdf3;
      color: #166534;
      font-weight: 500;
      margin-top: 2px;
    }

    .plan-card.selected {
      border-color: var(--green);
      box-shadow: 0 12px 24px rgba(22, 101, 52, 0.18);
      transform: translateY(-1px);
    }

    /* BUTTONS */

    .buttons {
      margin-top: 24px;
      position: relative;
      height: 64px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .btn-secondary {
      position: absolute;
      left: 0;
      background: #f3f4f6;
      color: #374151;
      border: none;
      padding: 12px 20px;
      border-radius: 999px;
      font-size: 15px;
      cursor: pointer;
    }

    .btn-primary {
      background: var(--green);
      color: #fff;
      padding: 16px 44px;
      font-size: 17px;
      font-weight: 600;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      display: inline-block;
      min-width: 260px;
      text-align: center;
    }

    #message {
      margin-top: 16px;
      font-size: 14px;
      text-align: center;
      color: #b91c1c;
    }

    .footer-note {
      margin-top: 38px;
      font-size: 13px;
      text-align: center;
      color: #6b7280;
      line-height: 1.5;
    }

    /* SUCCESS SCREEN */

    .success-screen {
      display: none;
      min-height: 280px;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 40px 16px 10px;
    }

    .success-card {
      max-width: 440px;
      width: 100%;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 24px;
      padding: 36px 28px 30px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 18px 36px rgba(15, 23, 42, 0.08);
    }

    .success-icon {
      width: 86px;
      height: 86px;
      border-radius: 999px;
      background: #ecfdf3;
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 4px solid #bbf7d0;
      animation: pop-in 0.45s ease-out forwards;
    }

    .success-check {
      width: 48px;
      height: 48px;
      stroke: var(--green);
      stroke-width: 4;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
      stroke-dasharray: 40;
      stroke-dashoffset: 40;
      animation: draw-check 0.4s 0.2s ease-out forwards;
    }

    .success-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--text-main);
    }

    .success-text {
      font-size: 14px;
      color: var(--text-muted);
      line-height: 1.6;
      margin-bottom: 6px;
    }

    .success-text strong {
      font-weight: 600;
      color: #111827;
    }

    .success-small {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 4px;
    }

    @keyframes pop-in {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes draw-check {
      to { stroke-dashoffset: 0; }
    }

    @media (max-width: 900px) {
      .plan-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 768px) {
      .header-inner {
        gap: 12px;
      }

      .header-nav,
      .header-cta {
        display: none; /* hide desktop nav/CTA on mobile */
      }

      .header-icon-btn {
        display: inline-flex; /* show email + menu buttons */
      }

      .header-logo {
        height: 60px;
      }

      .page-main {
        padding: 24px 0 32px;
      }

      .container {
        border-radius: 0;
        padding: 26px 20px 30px;
        box-shadow: none;
        border: none;
      }

      .top-row {
        flex-direction: column;
        gap: 14px;
      }

      .field-row {
        flex-direction: column;
      }

      .buttons {
        height: auto;
        margin-top: 20px;
      }

      .btn-primary {
        width: 100%;
        min-width: 0;
      }

      .success-card {
        border-radius: 18px;
        padding: 30px 20px 26px;
      }

      .footer-top {
        flex-direction: column;
        text-align: center;
        gap: 32px;
      }

      .footer-column {
        align-items: center;
      }

      .footer-inner {
        flex-direction: column;
        gap: 10px;
      }
    }

    /* FOOTER (Duest-style layout) */

    .site-footer {
      width: 100%;
      background: #ffffff;
      border-top: 1px solid #e5e7eb;
      padding: 32px 20px 16px;
    }

    .footer-inner {
      max-width: 1120px;
      margin: 0 auto;
    }

    .footer-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 40px;
      margin-bottom: 24px;
    }

    .footer-column {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .footer-logo {
      height: 110px; /* big footer logo */
      width: auto;
    }

    .footer-heading {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .footer-contact-line {
      font-size: 14px;
      color: #f9fafb;
    }

    .footer-contact-line span {
      color: #ffffff;
      font-weight: 600;
    }

    .footer-btn {
      margin-top: 12px;
      padding: 12px 30px;
      border-radius: 3px;
      border: 1px solid #ffffff;
      background: transparent;
      color: #ffffff;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .footer-btn:hover {
      background: rgba(255, 255, 255, 0.06);
    }

    .footer-service-list {
      list-style: none;
      padding: 0;
      margin: 8px 0 0;
      font-size: 14px;
    }

    .footer-service-list li {
      margin-bottom: 4px;
    }

    .footer-social {
      display: flex;
      gap: 14px;
      margin-top: 10px;
    }

    .footer-social a {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 1px solid #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #ffffff;
      text-decoration: none;
    }

    .footer-bottom {
      border-top: 1px solid rgba(255,255,255,0.2);
      margin-top: 16px;
      padding-top: 10px;
      font-size: 12px;
      text-align: center;
    }

    /* Give footer green like Duest, but keep inner card white-ish */
    .site-footer {
      background: #14532d; /* deep green */
      color: #ffffff;
      border-top: none;
    }

    .footer-service-list li,
    .footer-heading {
      color: #ffffff;
    }

    .footer-contact-text {
      font-size: 14px;
    }

    .footer-contact-text span {
      font-weight: 600;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="header-inner">
      <!-- Mobile email icon -->
      <a href="mailto:Binpalsteam@gmail.com" class="header-icon-btn header-icon-left">
        <span>✉</span>
      </a>

      <!-- Logo -->
      <a href="index.html" class="header-logo-wrap">
        <img src="binpals-trash-valet-logo.png" class="header-logo" alt="BinPals Trash Valet" />
      </a>

      <!-- Desktop nav -->
      <nav class="header-nav">
        <a href="index.html">Home</a>
        <a href="pricing.html">Services</a>
        <a href="contact-us.html" class="active">Contact</a>
      </nav>

      <!-- Desktop CTA -->
      <a href="#estimateForm" class="header-cta">Start Service</a>

      <!-- Mobile menu icon -->
      <a href="#estimateForm" class="header-icon-btn header-icon-right">
        <span>☰</span>
      </a>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="page-main">
    <div class="container">

      <div id="formWrapper">
        <div class="top-row">
          <div class="headline">
            <h1>Get Started With BinPals Trash Valet</h1>
            <p class="subtitle">
              Answer a few quick questions. We will review your address and
              <strong>email you with route details and next steps.</strong>
            </p>
          </div>

          <div class="aside-copy">
            <strong>Simple, no-pressure request.</strong>
            No app needed, no payment today. Once you are approved for a route,
            we will send over your start date and payment options.
          </div>
        </div>

        <!-- Progress -->
        <div class="progress-wrapper">
          <div class="progress"><div class="progress-fill" id="progress"></div></div>

          <div class="step-nav">
            <div class="step-nav-item active" data-step-nav="1">
              <div class="step-circle">1</div>
              <div class="step-label">Your info</div>
            </div>
            <div class="step-nav-item" data-step-nav="2">
              <div class="step-circle">2</div>
              <div class="step-label">Address</div>
            </div>
            <div class="step-nav-item" data-step-nav="3">
              <div class="step-circle">3</div>
              <div class="step-label">Bins & trash day</div>
            </div>
            <div class="step-nav-item" data-step-nav="4">
              <div class="step-circle">4</div>
              <div class="step-label">Plan & pricing</div>
            </div>
          </div>
        </div>

        <!-- FORM -->
        <form id="estimateForm" method="POST"
          action="https://docs.google.com/forms/d/e/1FAIpQLSeehAkGSoRi4TYJ-MJ01aRJ0F_zx_fGnu39NJQg8MW3SAvpPA/formResponse">

          <!-- Step 1 -->
          <div class="step-panel active" data-step="1">
            <div class="step-title">Step 1 – Your info</div>
            <div class="step-helper">So we know who to email and text.</div>

            <div class="field-row">
              <div>
                <label>Full name *</label>
                <input type="text" name="entry.104280084" required placeholder="First and last name" />
              </div>
              <div>
                <label>Email address *</label>
                <input type="email" name="entry.417977469" required placeholder="you@example.com" />
              </div>
            </div>

            <div class="consent-box">
              <input type="checkbox" id="smsConsent" name="sms_consent" required />
              <div class="consent-text">
                By checking this box, I agree to share my information with <strong>BinPals Trash Valet</strong> and receive SMS messages
                related to service requests, appointments, and promotional updates. I can reply <strong>OPT-OUT</strong> at any time.
                Message and data rates may apply.
              </div>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="step-panel" data-step="2">
            <div class="step-title">Step 2 – Your address</div>
            <div class="step-helper">So we can check your route.</div>

            <label>Street address *</label>
            <input type="text" name="entry.2139416814" required placeholder="House number and street" />

            <div class="field-row">
              <div>
                <label>City *</label>
                <input type="text" name="entry.565605156" required placeholder="City" />
              </div>

              <div>
                <label>ZIP code *</label>
                <input type="text" name="entry.55232557" required placeholder="ZIP" />
              </div>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="step-panel" data-step="3">
            <div class="step-title">Step 3 – Bins & trash day</div>
            <div class="step-helper">So we can price your service and route you correctly.</div>

            <div class="field-row">
              <div>
                <label>How many trash bins? *</label>
                <input type="number" name="entry.1777532498" required min="1" placeholder="Example: 2" />
              </div>

              <div>
                <label>Trash day *</label>
                <select name="entry.12034793" required>
                  <option value="" disabled selected>Pick your trash day</option>
                  <option value="Monday">Monday</option>
                  <option value="Tuesday">Tuesday</option>
                  <option value="Wednesday">Wednesday</option>
                  <option value="Thursday">Thursday</option>
                  <option value="Friday">Friday</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="step-panel" data-step="4">
            <div class="step-title">Step 4 – Pick your plan</div>
            <div class="step-helper">
              Choose the option that fits your number of bins or select a one-time service.
            </div>

            <div class="plan-grid" id="planGrid">
              <!-- Plan 1 -->
              <label class="plan-card">
                <input
                  type="radio"
                  name="entry.707531909"
                  value="Premium – $45/mo (up to 2 cans)"
                  required
                />
                <div class="plan-name">Premium</div>
                <div class="plan-price">$45/mo</div>
                <div class="plan-detail">Up to 2 trash bins, each pickup day.</div>
                <span class="plan-tag">Most popular for small homes</span>
              </label>

              <!-- Plan 2 -->
              <label class="plan-card">
                <input
                  type="radio"
                  name="entry.707531909"
                  value="Premium+ – $54/mo (3–4 cans)"
                />
                <div class="plan-name">Premium+</div>
                <div class="plan-price">$54/mo</div>
                <div class="plan-detail">3–4 trash bins, each pickup day.</div>
                <span class="plan-tag">Best for separate dwellings or shared homes</span>
              </label>

              <!-- Plan 3 -->
              <label class="plan-card">
                <input
                  type="radio"
                  name="entry.707531909"
                  value="One Time – $35"
                />
                <div class="plan-name">One Time Service</div>
                <div class="plan-price">$35</div>
                <div class="plan-detail">One-time visit for up to 4 bins.</div>
                <span class="plan-tag">Perfect for trying BinPals Trash Valet</span>
              </label>
            </div>
          </div>

          <!-- Hidden Google Form fields -->
          <input type="hidden" name="entry.409104529" value="Pending" />
          <input type="hidden" name="submit" value="Submit" />

          <!-- Buttons -->
          <div class="buttons">
            <button type="button" class="btn-secondary" id="backBtn">Back</button>
            <button type="submit" class="btn-primary" id="nextBtn">Next</button>
          </div>

          <div id="message"></div>
        </form>

        <div class="footer-note">
          We usually reply within <strong>1–2 business days.</strong><br />
          If you need help, you can also email us at <strong>Binpalsteam@gmail.com</strong>.
        </div>
      </div>

      <!-- SUCCESS SCREEN -->
      <div id="successScreen" class="success-screen">
        <div class="success-card">
          <div class="success-icon">
            <svg class="success-check" viewBox="0 0 24 24">
              <path d="M5 13.5 10 18 19 7" />
            </svg>
          </div>
          <div class="success-title">Request received!</div>
          <p class="success-text">
            Thanks for requesting a <strong>BinPals Trash Valet estimate.</strong> We will review your route and
            email you with your schedule details and next steps.
          </p>
          <p class="success-small">
            You can close this page now. If you need help, email us at Binpalsteam@gmail.com.
          </p>
        </div>
      </div>

    </div>
  </main>

  <!-- FOOTER (Duest-style, no "Licensed & Insured") -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-top">
        <!-- Left: logo -->
        <div class="footer-column">
          <img src="binpals-trash-valet-logo.png" class="footer-logo" alt="BinPals Trash Valet" />
        </div>

        <!-- Middle: contact -->
        <div class="footer-column">
          <div class="footer-heading">CONTACT</div>
          <div class="footer-contact-text">
            Phone: <span>(XXX) XXX-XXXX</span>
          </div>
          <div class="footer-contact-text">
            Email: <span>Binpalsteam@gmail.com</span>
          </div>
          <div class="footer-social">
            <a href="#" aria-label="Facebook">f</a>
            <a href="#" aria-label="Instagram">⌾</a>
            <a href="#" aria-label="Google">G</a>
          </div>
          <a href="#estimateForm" class="footer-btn">Get Estimate</a>
        </div>

        <!-- Right: service area -->
        <div class="footer-column">
          <div class="footer-heading">SERVICE AREA</div>
          <ul class="footer-service-list">
            <li>Peoria, AZ</li>
            <li>North Peoria, AZ</li>
            <li>Vistancia, AZ</li>
            <li>Surprise, AZ</li>
            <li>Glendale, AZ</li>
          </ul>
          <a href="#estimateForm" class="footer-btn">Our Routes</a>
        </div>
      </div>

      <div class="footer-bottom">
        © 2025 BinPals Trash Valet. All Rights Reserved.
      </div>
    </div>
  </footer>

  <script>
    let step = 1;
    const totalSteps = 4;

    const progress = document.getElementById("progress");
    const panels = document.querySelectorAll(".step-panel");
    const backBtn = document.getElementById("backBtn");
    const nextBtn = document.getElementById("nextBtn");
    const form = document.getElementById("estimateForm");
    const message = document.getElementById("message");
    const stepNav = document.querySelectorAll(".step-nav-item");
    const formWrapper = document.getElementById("formWrapper");
    const successScreen = document.getElementById("successScreen");
    const planGrid = document.getElementById("planGrid");

    function updateUI() {
      panels.forEach(p => p.classList.remove("active"));
      document.querySelector(`.step-panel[data-step="${step}"]`).classList.add("active");

      backBtn.style.visibility = step === 1 ? "hidden" : "visible";
      nextBtn.textContent = step === totalSteps ? "Send request" : "Next";

      progress.style.width = (step / totalSteps) * 100 + "%";

      stepNav.forEach(item => {
        const s = Number(item.getAttribute("data-step-nav"));
        item.classList.remove("active", "completed");
        if (s < step) item.classList.add("completed");
        else if (s === step) item.classList.add("active");
      });
    }

    if (planGrid) {
      planGrid.addEventListener("change", function (e) {
        if (e.target && e.target.type === "radio") {
          const cards = planGrid.querySelectorAll(".plan-card");
          cards.forEach(card => card.classList.remove("selected"));
          const selectedCard = e.target.closest(".plan-card");
          if (selectedCard) selectedCard.classList.add("selected");
        }
      });
    }

    updateUI();

    nextBtn.addEventListener("click", function (e) {
      if (step < totalSteps) {
        e.preventDefault();
        const currentPanel = document.querySelector(`.step-panel[data-step="${step}"]`);
        const inputs = currentPanel.querySelectorAll("input, select");

        for (let i of inputs) {
          if (!i.checkValidity()) {
            i.reportValidity();
            return;
          }
        }

        step++;
        updateUI();
      }
    });

    backBtn.addEventListener("click", function () {
      if (step > 1) {
        step--;
        updateUI();
      }
    });

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      message.textContent = "";

      const formData = new FormData(form);
      const params = new URLSearchParams(formData);

      fetch(form.action, { method: "POST", mode: "no-cors", body: params })
        .then(() => {
          formWrapper.style.display = "none";
          successScreen.style.display = "flex";
          window.scrollTo(0, 0);

          form.reset();
          step = 1;
          updateUI();
        })
        .catch(() => {
          message.textContent = "Something went wrong. Please try again.";
        });
    });
  </script>
</body>
</html>
